
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Demo of CCC for PSL Meetup &#8212; Cost-of-Capital-Calculator</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/examples/PSL_demo';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Web Application" href="../webapp.html" />
    <link rel="prev" title="Cost-of-Capital-Calculator" href="../intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/ccc.png" class="logo__image only-light" alt="Cost-of-Capital-Calculator - Home"/>
    <img src="../../_static/ccc.png" class="logo__image only-dark pst-js-only" alt="Cost-of-Capital-Calculator - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Cost-of-Capital-Calculator
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">CCC Example</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Demo of CCC for PSL Meetup</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Web Application</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../webapp.html">Web Application</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Contributing to CCC</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../contributing/contributor_guide.html">Contributor Guide</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">CCC API</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../api/public_api.html">Cost-of-Capital-Calculator API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/calcfunctions.html">Cost of Capital Calculation Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/calculator.html">Cost of Capital Calculator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/data.html">Cost of Capital Calculator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/get_taxcalc_rates.html">Get marginal tax rates from Tax-Calculator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/parameters.html">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/paramfunctions.html">Parameter Calculation Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/utils.html">CCC utility functions</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">CCC Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../CCC_guide.html">Overview and Assumptions</a></li>









</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Citations of CCC</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../citations.html">Citations and use cases of CCC</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/PSLmodels/Cost-of-Capital-Calculator" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/PSLmodels/Cost-of-Capital-Calculator/issues/new?title=Issue%20on%20page%20%2Fcontent/examples/PSL_demo.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/content/examples/PSL_demo.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Demo of CCC for PSL Meetup</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#first-things-first-import-necessary-packages">First things first, import necessary packages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-an-instance-of-the-assets-class">Create an instance of the Assets class</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-instances-of-the-two-parameters-classes">Create instances of the two parameters classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-an-instance-of-the-calculator-class">Create an instance of the Calculator class</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#specifying-a-reform-policy">Specifying a reform policy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tabular-output">Tabular output</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizations">Visualizations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="demo-of-ccc-for-psl-meetup">
<h1>Demo of CCC for PSL Meetup<a class="headerlink" href="#demo-of-ccc-for-psl-meetup" title="Link to this heading">#</a></h1>
<p>This notebook provides a demonstration of the Cost-of-Capital-Calculator (CCC) for the PSL Meetup on April 29, 2019.</p>
<p>To run this notebook on your machine, you will need to follow the instructions to install CCC as described in the CCC README <a class="reference external" href="https://github.com/PSLmodels/Cost-of-Capital-Calculator">here</a>.  In particular, you need to:</p>
<ul class="simple">
<li><p>Install the <a class="reference external" href="https://www.anaconda.com/distribution/">Anaconda distribution</a> of Python</p></li>
<li><p>Install the CCC package by typing <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">conda-forge</span> <span class="pre">ccc</span></code> (or <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">cost-of-captial-calculator</span></code>) in the command prompt.</p></li>
</ul>
<p>Once you follow the above, you will be ready to work with this Jupyter Notebook.</p>
<section id="first-things-first-import-necessary-packages">
<h2>First things first, import necessary packages<a class="headerlink" href="#first-things-first-import-necessary-packages" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># To install ccc package (if not already):</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;ccc&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
    <span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>cost-of-capital-calculator
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: cost-of-capital-calculator in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (1.5.2)
Requirement already satisfied: taxcalc in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from cost-of-capital-calculator) (4.3.0)
Requirement already satisfied: pandas in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from cost-of-capital-calculator) (2.2.3)
Requirement already satisfied: bokeh in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from cost-of-capital-calculator) (3.6.0)
Requirement already satisfied: numpy in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from cost-of-capital-calculator) (2.0.2)
Requirement already satisfied: paramtools in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from cost-of-capital-calculator) (0.18.3)
Requirement already satisfied: Jinja2&gt;=2.9 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from bokeh-&gt;cost-of-capital-calculator) (3.1.4)
Requirement already satisfied: contourpy&gt;=1.2 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from bokeh-&gt;cost-of-capital-calculator) (1.3.0)
Requirement already satisfied: packaging&gt;=16.8 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from bokeh-&gt;cost-of-capital-calculator) (24.1)
Requirement already satisfied: pillow&gt;=7.1.0 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from bokeh-&gt;cost-of-capital-calculator) (11.0.0)
Requirement already satisfied: PyYAML&gt;=3.10 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from bokeh-&gt;cost-of-capital-calculator) (6.0.2)
Requirement already satisfied: tornado&gt;=6.2 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from bokeh-&gt;cost-of-capital-calculator) (6.4.1)
Requirement already satisfied: xyzservices&gt;=2021.09.1 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from bokeh-&gt;cost-of-capital-calculator) (2024.9.0)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from pandas-&gt;cost-of-capital-calculator) (2.9.0)
Requirement already satisfied: pytz&gt;=2020.1 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from pandas-&gt;cost-of-capital-calculator) (2024.1)
Requirement already satisfied: tzdata&gt;=2022.7 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from pandas-&gt;cost-of-capital-calculator) (2024.2)
Requirement already satisfied: marshmallow&gt;=3.0.0 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from paramtools-&gt;cost-of-capital-calculator) (3.23.0)
Requirement already satisfied: fsspec in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from paramtools-&gt;cost-of-capital-calculator) (2024.10.0)
Requirement already satisfied: sortedcontainers in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from paramtools-&gt;cost-of-capital-calculator) (2.4.0)
Requirement already satisfied: setuptools in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from taxcalc-&gt;cost-of-capital-calculator) (75.1.0)
Requirement already satisfied: numba in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from taxcalc-&gt;cost-of-capital-calculator) (0.60.0)
Requirement already satisfied: requests in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from taxcalc-&gt;cost-of-capital-calculator) (2.32.3)
Requirement already satisfied: MarkupSafe&gt;=2.0 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from Jinja2&gt;=2.9-&gt;bokeh-&gt;cost-of-capital-calculator) (3.0.2)
Requirement already satisfied: six&gt;=1.5 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas-&gt;cost-of-capital-calculator) (1.16.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: llvmlite&lt;0.44,&gt;=0.43.0dev0 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from numba-&gt;taxcalc-&gt;cost-of-capital-calculator) (0.43.0)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from requests-&gt;taxcalc-&gt;cost-of-capital-calculator) (3.4.0)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from requests-&gt;taxcalc-&gt;cost-of-capital-calculator) (3.10)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from requests-&gt;taxcalc-&gt;cost-of-capital-calculator) (2.2.3)
Requirement already satisfied: certifi&gt;=2017.4.17 in /usr/share/miniconda3/envs/ccc-dev/lib/python3.12/site-packages (from requests-&gt;taxcalc-&gt;cost-of-capital-calculator) (2024.8.30)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import packages</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span><span class="p">,</span> <span class="n">show</span>
<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">output_notebook</span>
<span class="c1"># import CCC classes that we&#39;ll work with</span>
<span class="kn">from</span> <span class="nn">ccc.data</span> <span class="kn">import</span> <span class="n">Assets</span>
<span class="kn">from</span> <span class="nn">ccc.parameters</span> <span class="kn">import</span> <span class="n">Specification</span><span class="p">,</span> <span class="n">DepreciationParams</span>
<span class="kn">from</span> <span class="nn">ccc.calculator</span> <span class="kn">import</span> <span class="n">Calculator</span>
<span class="c1"># to print bokeh plots inline</span>
<span class="n">output_notebook</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">    <style>
        .bk-notebook-logo {
            display: block;
            width: 20px;
            height: 20px;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAOkSURBVDiNjZRtaJVlGMd/1/08zzln5zjP1LWcU9N0NkN8m2CYjpgQYQXqSs0I84OLIC0hkEKoPtiH3gmKoiJDU7QpLgoLjLIQCpEsNJ1vqUOdO7ppbuec5+V+rj4ctwzd8IIbbi6u+8f1539dt3A78eXC7QizUF7gyV1fD1Yqg4JWz84yffhm0qkFqBogB9rM8tZdtwVsPUhWhGcFJngGeWrPzHm5oaMmkfEg1usvLFyc8jLRqDOMru7AyC8saQr7GG7f5fvDeH7Ej8CM66nIF+8yngt6HWaKh7k49Soy9nXurCi1o3qUbS3zWfrYeQDTB/Qj6kX6Ybhw4B+bOYoLKCC9H3Nu/leUTZ1JdRWkkn2ldcCamzrcf47KKXdAJllSlxAOkRgyHsGC/zRday5Qld9DyoM4/q/rUoy/CXh3jzOu3bHUVZeU+DEn8FInkPBFlu3+nW3Nw0mk6vCDiWg8CeJaxEwuHS3+z5RgY+YBR6V1Z1nxSOfoaPa4LASWxxdNp+VWTk7+4vzaou8v8PN+xo+KY2xsw6une2frhw05CTYOmQvsEhjhWjn0bmXPjpE1+kplmmkP3suftwTubK9Vq22qKmrBhpY4jvd5afdRA3wGjFAgcnTK2s4hY0/GPNIb0nErGMCRxWOOX64Z8RAC4oCXdklmEvcL8o0BfkNK4lUg9HTl+oPlQxdNo3Mg4Nv175e/1LDGzZen30MEjRUtmXSfiTVu1kK8W4txyV6BMKlbgk3lMwYCiusNy9fVfvvwMxv8Ynl6vxoByANLTWplvuj/nF9m2+PDtt1eiHPBr1oIfhCChQMBw6Aw0UulqTKZdfVvfG7VcfIqLG9bcldL/+pdWTLxLUy8Qq38heUIjh4XlzZxzQm19lLFlr8vdQ97rjZVOLf8nclzckbcD4wxXMidpX30sFd37Fv/GtwwhzhxGVAprjbg0gCAEeIgwCZyTV2Z1REEW8O4py0wsjeloKoMr6iCY6dP92H6Vw/oTyICIthibxjm/DfN9lVz8IqtqKYLUXfoKVMVQVVJOElGjrnnUt9T9wbgp8AyYKaGlqingHZU/uG2NTZSVqwHQTWkx9hxjkpWDaCg6Ckj5qebgBVbT3V3NNXMSiWSDdGV3hrtzla7J+duwPOToIg42ChPQOQjspnSlp1V+Gjdged7+8UN5CRAV7a5EdFNwCjEaBR27b3W890TE7g24NAP/mMDXRWrGoFPQI9ls/MWO2dWFAar/xcOIImbbpA3zgAAAABJRU5ErkJggg==);
        }
    </style>
    <div>
        <a href="https://bokeh.org" target="_blank" class="bk-notebook-logo"></a>
        <span id="f6079776-cc96-4f41-9edf-3bec5ec45120">Loading BokehJS ...</span>
    </div>
</div><script type="application/javascript">'use strict';
(function(root) {
  function now() {
    return new Date();
  }

  const force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

const JS_MIME_TYPE = 'application/javascript';
  const HTML_MIME_TYPE = 'text/html';
  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  const CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    const script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    function drop(id) {
      const view = Bokeh.index.get_by_id(id)
      if (view != null) {
        view.model.document.clear()
        Bokeh.index.delete(view)
      }
    }

    const cell = handle.cell;

    const id = cell.output_area._bokeh_element_id;
    const server_id = cell.output_area._bokeh_server_id;

    // Clean up Bokeh references
    if (id != null) {
      drop(id)
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      const cmd_clean = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd_clean, {
        iopub: {
          output: function(msg) {
            const id = msg.content.text.trim()
            drop(id)
          }
        }
      });
      // Destroy server and session
      const cmd_destroy = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd_destroy);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    const output_area = handle.output_area;
    const output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    const toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      const bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      const script_attrs = bk_div.children[0].attributes;
      for (let i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      const toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    const events = require('base/js/events');
    const OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  const NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded(error = null) {
    const el = document.getElementById("f6079776-cc96-4f41-9edf-3bec5ec45120");
    if (el != null) {
      const html = (() => {
        if (typeof root.Bokeh === "undefined") {
          if (error == null) {
            return "BokehJS is loading ...";
          } else {
            return "BokehJS failed to load.";
          }
        } else {
          const prefix = `BokehJS ${root.Bokeh.version}`;
          if (error == null) {
            return `${prefix} successfully loaded.`;
          } else {
            return `${prefix} <b>encountered errors</b> while loading and may not function as expected.`;
          }
        }
      })();
      el.innerHTML = html;

      if (error != null) {
        const wrapper = document.createElement("div");
        wrapper.style.overflow = "auto";
        wrapper.style.height = "5em";
        wrapper.style.resize = "vertical";
        const content = document.createElement("div");
        content.style.fontFamily = "monospace";
        content.style.whiteSpace = "pre-wrap";
        content.style.backgroundColor = "rgb(255, 221, 221)";
        content.textContent = error.stack ?? error.toString();
        wrapper.append(content);
        el.append(wrapper);
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(() => display_loaded(error), 100);
    }
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  const js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-3.6.0.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.6.0.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.6.0.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.6.0.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.6.0.min.js"];
  const css_urls = [];

  const inline_js = [    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
function(Bokeh) {
    }
  ];

  function run_inline_js() {
    if (root.Bokeh !== undefined || force === true) {
      try {
            for (let i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }

      } catch (error) {display_loaded(error);throw error;
      }if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      const cell = $(document.getElementById("f6079776-cc96-4f41-9edf-3bec5ec45120")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));</script></div>
</div>
</section>
<section id="create-an-instance-of-the-assets-class">
<h2>Create an instance of the Assets class<a class="headerlink" href="#create-an-instance-of-the-assets-class" title="Link to this heading">#</a></h2>
<p>This is the class that contains the data that underlie CCC.  The basic object is a Pandas DataFrame where each row represents a combination of a specific type of asset, industry (approximately 6-digit NAICS) and tax treatment.  The columns represent names and codes for the asset and industry classifications, the tax depreciation rules used for that asset, and the rate of economic depreciation (<code class="docutils literal notranslate"><span class="pre">delta</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">assets</span> <span class="o">=</span> <span class="n">Assets</span><span class="p">()</span>
<span class="n">assets</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>tax_treat</th>
      <th>assets</th>
      <th>bea_asset_code</th>
      <th>bea_ind_code</th>
      <th>Industry</th>
      <th>minor_code_alt</th>
      <th>major_asset_group</th>
      <th>minor_asset_group</th>
      <th>major_industry</th>
      <th>asset_name</th>
      <th>delta</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>corporate</td>
      <td>0.0</td>
      <td>RD32</td>
      <td>110C</td>
      <td>Farms</td>
      <td>111</td>
      <td>Intellectual Property</td>
      <td>Intellectual Property</td>
      <td>Agriculture, forestry, fishing, and hunting</td>
      <td>Aerospace products and parts manufacturing</td>
      <td>0.22</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>corporate</td>
      <td>0.0</td>
      <td>RD32</td>
      <td>113F</td>
      <td>Forestry, fishing, and related activities</td>
      <td>113</td>
      <td>Intellectual Property</td>
      <td>Intellectual Property</td>
      <td>Agriculture, forestry, fishing, and hunting</td>
      <td>Aerospace products and parts manufacturing</td>
      <td>0.22</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>corporate</td>
      <td>0.0</td>
      <td>RD32</td>
      <td>113F</td>
      <td>Forestry, fishing, and related activities</td>
      <td>114</td>
      <td>Intellectual Property</td>
      <td>Intellectual Property</td>
      <td>Agriculture, forestry, fishing, and hunting</td>
      <td>Aerospace products and parts manufacturing</td>
      <td>0.22</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>corporate</td>
      <td>0.0</td>
      <td>RD32</td>
      <td>2110</td>
      <td>Oil and gas extraction</td>
      <td>211110</td>
      <td>Intellectual Property</td>
      <td>Intellectual Property</td>
      <td>Mining</td>
      <td>Aerospace products and parts manufacturing</td>
      <td>0.22</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>corporate</td>
      <td>0.0</td>
      <td>RD32</td>
      <td>2120</td>
      <td>Mining, except oil and gas</td>
      <td>212110</td>
      <td>Intellectual Property</td>
      <td>Intellectual Property</td>
      <td>Mining</td>
      <td>Aerospace products and parts manufacturing</td>
      <td>0.22</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="create-instances-of-the-two-parameters-classes">
<h2>Create instances of the two parameters classes<a class="headerlink" href="#create-instances-of-the-two-parameters-classes" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Specification</span></code> class contains many of the model parameters, although depreciation system parameters are contained in the <code class="docutils literal notranslate"><span class="pre">DepreciationParams</span></code> class.  Both are required arguments for the <code class="docutils literal notranslate"><span class="pre">Calculator</span></code> object.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">Specification</span></code> object has methods that load the data from a file that contains the default parameter values (<code class="docutils literal notranslate"><span class="pre">default_parameters.json</span></code>) and then stores them as attributes of the <code class="docutils literal notranslate"><span class="pre">Specification</span></code> class object.</p>
<p><code class="docutils literal notranslate"><span class="pre">p.u</span></code> looks into the instance of this class named <code class="docutils literal notranslate"><span class="pre">p</span></code> and executing the cell below will show you that <code class="docutils literal notranslate"><span class="pre">p.u</span></code> is dictionary containtin marginal tax rates on corporate and pass-through income.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">Specification</span></code> class has some arguments, such as <code class="docutils literal notranslate"><span class="pre">call_tc</span></code>, which defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>, but if set to <code class="docutils literal notranslate"><span class="pre">True</span></code> will call the Tax-Calculator to estimate marginal tax rates on individual filers’ income.</p>
<p>Similar to <code class="docutils literal notranslate"><span class="pre">Specification</span></code>, <code class="docutils literal notranslate"><span class="pre">DepreciationParams</span></code> loads default parameters from a JSON file, in this case the file <code class="docutils literal notranslate"><span class="pre">tax_depreciation_rules.json</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an instance of the Specification class</span>
<span class="c1"># p = Specification()</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Specification</span><span class="p">(</span><span class="n">call_tc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># Look at attributes</span>
<span class="n">p</span><span class="o">.</span><span class="n">u</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Using CPS
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Calculator initial year =  2014
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Calculator year =  2024
year:  2024
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;tau_pt&#39;: array([0.20106125]), &#39;tau_div&#39;: array([0.17460723]), &#39;tau_int&#39;: array([0.31307742]), &#39;tau_scg&#39;: array([0.28522881]), &#39;tau_lcg&#39;: array([0.18438707]), &#39;tau_td&#39;: array([0.20617498]), &#39;tau_h&#39;: array([0.03500351])}
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;c&#39;: array([0.21]), &#39;pt&#39;: array([0.20106125])}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an instance of the DepreciationParams class</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">DepreciationParams</span><span class="p">()</span>
<span class="c1"># Look at an attribute of the dp object</span>
<span class="n">dp</span><span class="o">.</span><span class="n">asset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>OrderedDict([(&#39;value&#39;, {&#39;life&#39;: 5.0, &#39;method&#39;: &#39;DB 200%&#39;}),
             (&#39;asset_name&#39;, &#39;Mainframes&#39;),
             (&#39;BEA_code&#39;, &#39;EP1A&#39;),
             (&#39;minor_asset_group&#39;, &#39;Computers and Software&#39;),
             (&#39;major_asset_group&#39;, &#39;Equipment&#39;),
             (&#39;ADS_life&#39;, 5.0),
             (&#39;GDS_life&#39;, 5.0),
             (&#39;system&#39;, &#39;GDS&#39;),
             (&#39;year&#39;, 2020)])
</pre></div>
</div>
</div>
</div>
</section>
<section id="create-an-instance-of-the-calculator-class">
<h2>Create an instance of the Calculator class<a class="headerlink" href="#create-an-instance-of-the-calculator-class" title="Link to this heading">#</a></h2>
<p>This class does the calculations on the data.  It takes as arguments the data object (named <code class="docutils literal notranslate"><span class="pre">assets</span></code> here) and the parameters object (named <code class="docutils literal notranslate"><span class="pre">p</span></code> here).</p>
<p>Excuting the cell below creates an instance of the calculator class with these data and parameters, but does not yet excecute any calculations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an instance of the Calculator class</span>
<span class="n">calc1</span> <span class="o">=</span> <span class="n">Calculator</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">dp</span><span class="p">,</span> <span class="n">assets</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>With an instance of the <code class="docutils literal notranslate"><span class="pre">Calculator</span></code> class created, we can start doing some calculations with these data.</p>
<p>For instance, we can compute a table of the share of corporate vs non-corporate assets across each industry.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Look at shares of assets across industry</span>
<span class="n">calc1</span><span class="o">.</span><span class="n">asset_share_table</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Industry</th>
      <th>Corporate</th>
      <th>Pass-Through</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Agriculture, forestry, fishing, and hunting</td>
      <td>0.309688</td>
      <td>0.690312</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Mining</td>
      <td>0.826839</td>
      <td>0.173161</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Utilities</td>
      <td>0.948540</td>
      <td>0.051460</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Construction</td>
      <td>0.286840</td>
      <td>0.713160</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Manufacturing</td>
      <td>0.859014</td>
      <td>0.140986</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Wholesale trade</td>
      <td>0.715166</td>
      <td>0.284834</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Retail trade</td>
      <td>0.728628</td>
      <td>0.271372</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Transportation and warehousing</td>
      <td>0.789652</td>
      <td>0.210348</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Information</td>
      <td>0.918722</td>
      <td>0.081278</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Finance and insurance</td>
      <td>0.786056</td>
      <td>0.213944</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Real estate and rental and leasing</td>
      <td>0.212052</td>
      <td>0.787948</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Professional, scientific, and technical services</td>
      <td>0.501699</td>
      <td>0.498301</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Management of companies and enterprises</td>
      <td>0.824397</td>
      <td>0.175603</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Administrative and waste management services</td>
      <td>0.569110</td>
      <td>0.430890</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Educational services</td>
      <td>0.590168</td>
      <td>0.409832</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Health care and social assistance</td>
      <td>0.510425</td>
      <td>0.489575</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Arts, entertainment, and recreation</td>
      <td>0.490811</td>
      <td>0.509189</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Accommodation and food services</td>
      <td>0.482236</td>
      <td>0.517764</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Other services, except government</td>
      <td>0.343467</td>
      <td>0.656533</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="specifying-a-reform-policy">
<h2>Specifying a reform policy<a class="headerlink" href="#specifying-a-reform-policy" title="Link to this heading">#</a></h2>
<p>To see some more interesting results, we will want to create another <code class="docutils literal notranslate"><span class="pre">Calculator</span></code> object with a change in policy or economic assumptions.  We can do this in a way analogous to our original instantiation of the <code class="docutils literal notranslate"><span class="pre">Calculator</span></code> object above.  In particular, we’ll need to create a new <code class="docutils literal notranslate"><span class="pre">Specification</span></code> object (we can use the same underlying data, which was in the object we named <code class="docutils literal notranslate"><span class="pre">assets</span></code>).</p>
<p>In the code below, we’ll specify our “reform” as current law tax policy for 2026 (the baseline parameters above came from the default model year, 2019).  In addition, we’ll increase the corporate income tax rate from 21 to 25%.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create another policy</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Specification</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2026</span><span class="p">)</span>
<span class="n">p2</span><span class="o">.</span><span class="n">update_specification</span><span class="p">({</span><span class="s1">&#39;CIT_rate&#39;</span><span class="p">:</span> <span class="mf">0.35</span><span class="p">})</span>
<span class="n">calc2</span> <span class="o">=</span> <span class="n">Calculator</span><span class="p">(</span><span class="n">p2</span><span class="p">,</span> <span class="n">dp</span><span class="p">,</span> <span class="n">assets</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="tabular-output">
<h2>Tabular output<a class="headerlink" href="#tabular-output" title="Link to this heading">#</a></h2>
<p>Now with two <code class="docutils literal notranslate"><span class="pre">Calculator</span></code> objects named <code class="docutils literal notranslate"><span class="pre">calc1</span></code> and <code class="docutils literal notranslate"><span class="pre">calc2</span></code> (representing the baseline and reform policies), we are ready to compute some of the changes in effective tax rates, cost of capital, or other variables measured in this model.</p>
<p>We start with an overall summary table showing the marginal effective total tax rates (METTRs) for all investments, corporate investments, and pass-through investments under varying financing assumptions.  This is done through the <code class="docutils literal notranslate"><span class="pre">summary_table</span></code> function.  It takes a calculator object as an argument.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Look at differences in METTRs between the two policies</span>
<span class="n">calc1</span><span class="o">.</span><span class="n">summary_table</span><span class="p">(</span><span class="n">calc2</span><span class="p">)</span> <span class="c1"># calc1 is the baseline, calc2 the reform</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>Marginal Effective Total Tax Rate Under Baseline Policy</th>
      <th>Marginal Effective Total Tax Rate Under Reform Policy</th>
      <th>Change from Baseline (pp)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Overall</td>
      <td>18.616006</td>
      <td>34.225300</td>
      <td>15.609294</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Corporations</td>
      <td>19.289505</td>
      <td>42.290467</td>
      <td>23.000962</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Equity Financed</td>
      <td>22.125690</td>
      <td>46.019810</td>
      <td>23.894120</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Debt Financed</td>
      <td>9.097707</td>
      <td>26.809930</td>
      <td>17.712222</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Pass-Through Entities</td>
      <td>19.322439</td>
      <td>22.541129</td>
      <td>3.218690</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Equity Financed</td>
      <td>17.595430</td>
      <td>22.463002</td>
      <td>4.867572</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Debt Financed</td>
      <td>25.815628</td>
      <td>22.992590</td>
      <td>-2.823038</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>the <code class="docutils literal notranslate"><span class="pre">Calculator.summary_table()</span></code> method defaults to showing the results for the METTR, but there is a keyword argument that would allow you to view the output for other variables computed in CCC.  We can use this to see changes in the cost of capital (denoted by <span class="math notranslate nohighlight">\(\rho\)</span> in the model):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Look at how the cost of capital changed</span>
<span class="n">calc1</span><span class="o">.</span><span class="n">summary_table</span><span class="p">(</span><span class="n">calc2</span><span class="p">,</span> <span class="n">output_variable</span><span class="o">=</span><span class="s1">&#39;rho&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>Cost of Capital Under Baseline Policy</th>
      <th>Cost of Capital Under Reform Policy</th>
      <th>Change from Baseline (pp)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Overall</td>
      <td>5.776999</td>
      <td>7.147965</td>
      <td>1.370966</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Corporations</td>
      <td>5.825206</td>
      <td>8.146925</td>
      <td>2.321719</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Equity Financed</td>
      <td>6.721989</td>
      <td>9.697451</td>
      <td>2.975462</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Debt Financed</td>
      <td>3.925764</td>
      <td>4.875811</td>
      <td>0.950047</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Pass-Through Entities</td>
      <td>5.719536</td>
      <td>5.957203</td>
      <td>0.237667</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Equity Financed</td>
      <td>6.352442</td>
      <td>6.751232</td>
      <td>0.398790</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Debt Financed</td>
      <td>4.172939</td>
      <td>4.019962</td>
      <td>-0.152977</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>One can also save results to disk by specifying an output type (‘excel’, ‘json’, ‘csv’, ‘tex’) and a file path:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save these results to disk</span>
<span class="n">calc1</span><span class="o">.</span><span class="n">summary_table</span><span class="p">(</span><span class="n">calc2</span><span class="p">,</span> <span class="n">output_variable</span><span class="o">=</span><span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="n">output_type</span><span class="o">=</span><span class="s1">&#39;excel&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;cc_table.xlsx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>There are also <code class="docutils literal notranslate"><span class="pre">Calculator</span></code> methods to compute summary tables by asset type or industry.  These are computed in the next two cells.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Summary by asset type</span>
<span class="n">calc1</span><span class="o">.</span><span class="n">asset_summary_table</span><span class="p">(</span><span class="n">calc2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Category</th>
      <th>Marginal Effective Total Tax Rate Under Baseline Policy</th>
      <th>Marginal Effective Total Tax Rate Under Reform Policy</th>
      <th>Change from Baseline (pp)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Overall</td>
      <td>18.616006</td>
      <td>34.225300</td>
      <td>15.609294</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Corporate</td>
      <td>19.289505</td>
      <td>42.290467</td>
      <td>23.000962</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Equipment</td>
      <td>12.268229</td>
      <td>51.221033</td>
      <td>38.952804</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Structures</td>
      <td>19.431798</td>
      <td>37.100910</td>
      <td>17.669112</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Intellectual Property</td>
      <td>9.379343</td>
      <td>52.586216</td>
      <td>43.206872</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Inventories</td>
      <td>28.801265</td>
      <td>39.347759</td>
      <td>10.546494</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Land</td>
      <td>26.056203</td>
      <td>35.232088</td>
      <td>9.175885</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Pass-through</td>
      <td>19.322439</td>
      <td>22.541129</td>
      <td>3.218690</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Equipment</td>
      <td>7.956112</td>
      <td>14.162423</td>
      <td>6.206311</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Structures</td>
      <td>17.855920</td>
      <td>20.663326</td>
      <td>2.807406</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Intellectual Property</td>
      <td>4.617759</td>
      <td>6.134524</td>
      <td>1.516765</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Inventories</td>
      <td>24.751484</td>
      <td>28.432579</td>
      <td>3.681095</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Land</td>
      <td>21.763692</td>
      <td>24.776615</td>
      <td>3.012923</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Summary by industry</span>
<span class="n">calc1</span><span class="o">.</span><span class="n">industry_summary_table</span><span class="p">(</span><span class="n">calc2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Category</th>
      <th>Marginal Effective Total Tax Rate Under Baseline Policy</th>
      <th>Marginal Effective Total Tax Rate Under Reform Policy</th>
      <th>Change from Baseline (pp)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Overall</td>
      <td>18.616006</td>
      <td>34.225300</td>
      <td>15.609294</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Corporate</td>
      <td>19.289505</td>
      <td>42.290467</td>
      <td>23.000962</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Agriculture, forestry, fishing, and hunting</td>
      <td>20.534007</td>
      <td>39.825732</td>
      <td>19.291725</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Mining</td>
      <td>12.218682</td>
      <td>40.334320</td>
      <td>28.115637</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Utilities</td>
      <td>12.013905</td>
      <td>35.617148</td>
      <td>23.603243</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Construction</td>
      <td>20.687990</td>
      <td>44.152309</td>
      <td>23.464319</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Manufacturing</td>
      <td>18.982117</td>
      <td>44.975519</td>
      <td>25.993401</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Wholesale trade</td>
      <td>24.081817</td>
      <td>44.175500</td>
      <td>20.093683</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Retail trade</td>
      <td>24.739682</td>
      <td>41.380739</td>
      <td>16.641058</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Transportation and warehousing</td>
      <td>13.656180</td>
      <td>39.123581</td>
      <td>25.467401</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Information</td>
      <td>15.067469</td>
      <td>45.626469</td>
      <td>30.559000</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Finance and insurance</td>
      <td>20.429404</td>
      <td>48.923692</td>
      <td>28.494288</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Real estate and rental and leasing</td>
      <td>24.424992</td>
      <td>37.288774</td>
      <td>12.863782</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Professional, scientific, and technical ser...</td>
      <td>16.881945</td>
      <td>52.644707</td>
      <td>35.762762</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Management of companies and enterprises</td>
      <td>22.944220</td>
      <td>45.750555</td>
      <td>22.806335</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Administrative and waste management services</td>
      <td>17.130350</td>
      <td>48.198261</td>
      <td>31.067911</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Educational services</td>
      <td>22.747754</td>
      <td>40.858592</td>
      <td>18.110838</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Health care and social assistance</td>
      <td>21.572517</td>
      <td>42.545889</td>
      <td>20.973372</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Arts, entertainment, and recreation</td>
      <td>17.692689</td>
      <td>40.552553</td>
      <td>22.859863</td>
    </tr>
    <tr>
      <th>19</th>
      <td>Accommodation and food services</td>
      <td>24.357493</td>
      <td>40.406246</td>
      <td>16.048752</td>
    </tr>
    <tr>
      <th>20</th>
      <td>Other services, except government</td>
      <td>21.338903</td>
      <td>39.922950</td>
      <td>18.584046</td>
    </tr>
    <tr>
      <th>21</th>
      <td>Pass-through</td>
      <td>19.322439</td>
      <td>22.541129</td>
      <td>3.218690</td>
    </tr>
    <tr>
      <th>22</th>
      <td>Agriculture, forestry, fishing, and hunting</td>
      <td>17.532884</td>
      <td>21.668586</td>
      <td>4.135701</td>
    </tr>
    <tr>
      <th>23</th>
      <td>Mining</td>
      <td>8.121768</td>
      <td>10.993231</td>
      <td>2.871463</td>
    </tr>
    <tr>
      <th>24</th>
      <td>Utilities</td>
      <td>7.844139</td>
      <td>12.469384</td>
      <td>4.625245</td>
    </tr>
    <tr>
      <th>25</th>
      <td>Construction</td>
      <td>17.465832</td>
      <td>21.256867</td>
      <td>3.791035</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Manufacturing</td>
      <td>15.324819</td>
      <td>18.360023</td>
      <td>3.035204</td>
    </tr>
    <tr>
      <th>27</th>
      <td>Wholesale trade</td>
      <td>21.480848</td>
      <td>25.256637</td>
      <td>3.775790</td>
    </tr>
    <tr>
      <th>28</th>
      <td>Retail trade</td>
      <td>21.562322</td>
      <td>25.150418</td>
      <td>3.588096</td>
    </tr>
    <tr>
      <th>29</th>
      <td>Transportation and warehousing</td>
      <td>9.833258</td>
      <td>13.410283</td>
      <td>3.577025</td>
    </tr>
    <tr>
      <th>30</th>
      <td>Information</td>
      <td>11.109830</td>
      <td>17.293690</td>
      <td>6.183859</td>
    </tr>
    <tr>
      <th>31</th>
      <td>Finance and insurance</td>
      <td>19.118451</td>
      <td>22.748909</td>
      <td>3.630458</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Real estate and rental and leasing</td>
      <td>20.886514</td>
      <td>23.843631</td>
      <td>2.957117</td>
    </tr>
    <tr>
      <th>33</th>
      <td>Professional, scientific, and technical ser...</td>
      <td>12.574331</td>
      <td>16.524174</td>
      <td>3.949843</td>
    </tr>
    <tr>
      <th>34</th>
      <td>Management of companies and enterprises</td>
      <td>18.635533</td>
      <td>21.998423</td>
      <td>3.362890</td>
    </tr>
    <tr>
      <th>35</th>
      <td>Administrative and waste management services</td>
      <td>12.789779</td>
      <td>17.412865</td>
      <td>4.623086</td>
    </tr>
    <tr>
      <th>36</th>
      <td>Educational services</td>
      <td>18.401046</td>
      <td>21.447133</td>
      <td>3.046087</td>
    </tr>
    <tr>
      <th>37</th>
      <td>Health care and social assistance</td>
      <td>17.245331</td>
      <td>20.827518</td>
      <td>3.582187</td>
    </tr>
    <tr>
      <th>38</th>
      <td>Arts, entertainment, and recreation</td>
      <td>13.208242</td>
      <td>17.230613</td>
      <td>4.022371</td>
    </tr>
    <tr>
      <th>39</th>
      <td>Accommodation and food services</td>
      <td>20.200659</td>
      <td>23.633904</td>
      <td>3.433245</td>
    </tr>
    <tr>
      <th>40</th>
      <td>Other services, except government</td>
      <td>16.791841</td>
      <td>19.785431</td>
      <td>2.993590</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="visualizations">
<h2>Visualizations<a class="headerlink" href="#visualizations" title="Link to this heading">#</a></h2>
<p>If one wants to visualize the effects of changes in tax policy, the <code class="docutils literal notranslate"><span class="pre">Calculator</span></code> class has a few methods for this.</p>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">grouped_bar</span></code> method to show differential effects across assets (the default):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualizing changes by asset type</span>
<span class="n">aplot</span> <span class="o">=</span> <span class="n">calc1</span><span class="o">.</span><span class="n">grouped_bar</span><span class="p">(</span><span class="n">calc2</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">aplot</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="a4c500d0-7265-4d8c-9795-3b505305bca6" data-root-id="p1004" style="display: contents;"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"4c5c5fc9-6b1d-4f4d-b276-984f9768ce63":{"version":"3.6.0","title":"Bokeh Application","roots":[{"type":"object","name":"Figure","id":"p1004","attributes":{"height":350,"x_range":{"type":"object","name":"FactorRange","id":"p1013","attributes":{"factors":["Equipment","Intellectual Property","Inventories","Land","Structures"],"range_padding":0.1}},"y_range":{"type":"object","name":"DataRange1d","id":"p1006"},"x_scale":{"type":"object","name":"CategoricalScale","id":"p1014"},"y_scale":{"type":"object","name":"LinearScale","id":"p1015"},"title":null,"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1033","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1001","attributes":{"selected":{"type":"object","name":"Selection","id":"p1002","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1003"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAA="},"shape":[5],"dtype":"int32","order":"little"}],["major_asset_group",{"type":"ndarray","array":["Equipment","Intellectual Property","Inventories","Land","Structures"],"shape":[5],"dtype":"object","order":"little"}],["Baseline",{"type":"ndarray","array":{"type":"bytes","data":"grHqUhtovz8Mit+32AK4P4pVGp7MbtI/2FdoWgyt0D/DHGZUad/IPw=="},"shape":[5],"dtype":"float64","order":"little"}],["Reform",{"type":"ndarray","array":{"type":"bytes","data":"yF9izPiY4D/jSZZtUwfhP2b7obRmstk/plihHwYZ1z/NfRSiJ0fYPw=="},"shape":[5],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1034","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1035"}}},"glyph":{"type":"object","name":"VBar","id":"p1030","attributes":{"x":{"type":"field","field":"major_asset_group","transform":{"type":"object","name":"Dodge","id":"p1026","attributes":{"range":{"id":"p1013"}}}},"width":{"type":"value","value":0.2},"top":{"type":"field","field":"Baseline"},"line_color":{"type":"value","value":"#718dbf"},"fill_color":{"type":"value","value":"#718dbf"},"hatch_color":{"type":"value","value":"#718dbf"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1031","attributes":{"x":{"type":"field","field":"major_asset_group","transform":{"id":"p1026"}},"width":{"type":"value","value":0.2},"top":{"type":"field","field":"Baseline"},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1032","attributes":{"x":{"type":"field","field":"major_asset_group","transform":{"id":"p1026"}},"width":{"type":"value","value":0.2},"top":{"type":"field","field":"Baseline"},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1045","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1046","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1047"}}},"glyph":{"type":"object","name":"VBar","id":"p1042","attributes":{"x":{"type":"field","field":"major_asset_group","transform":{"type":"object","name":"Dodge","id":"p1038","attributes":{"value":0.25,"range":{"id":"p1013"}}}},"width":{"type":"value","value":0.2},"top":{"type":"field","field":"Reform"},"line_color":{"type":"value","value":"#e84d60"},"fill_color":{"type":"value","value":"#e84d60"},"hatch_color":{"type":"value","value":"#e84d60"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1043","attributes":{"x":{"type":"field","field":"major_asset_group","transform":{"id":"p1038"}},"width":{"type":"value","value":0.2},"top":{"type":"field","field":"Reform"},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1044","attributes":{"x":{"type":"field","field":"major_asset_group","transform":{"id":"p1038"}},"width":{"type":"value","value":0.2},"top":{"type":"field","field":"Reform"},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"Span","id":"p1049","attributes":{"location":0.19289504866181298,"line_color":"#718dbf","line_alpha":0.2,"line_width":2,"line_dash":[6]}},{"type":"object","name":"Span","id":"p1050","attributes":{"location":0.430550923049778,"line_color":"#e84d60","line_alpha":0.2,"line_width":2,"line_dash":[6]}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1012"},"toolbar_location":null,"left":[{"type":"object","name":"LinearAxis","id":"p1021","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1022","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1023"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1024"}}}],"below":[{"type":"object","name":"CategoricalAxis","id":"p1016","attributes":{"ticker":{"type":"object","name":"CategoricalTicker","id":"p1017"},"formatter":{"type":"object","name":"CategoricalTickFormatter","id":"p1018"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1019"}}}],"center":[{"type":"object","name":"Grid","id":"p1020","attributes":{"axis":{"id":"p1016"},"grid_line_color":null}},{"type":"object","name":"Grid","id":"p1025","attributes":{"dimension":1,"axis":{"id":"p1021"}}},{"type":"object","name":"Legend","id":"p1036","attributes":{"location":"top_left","orientation":"horizontal","items":[{"type":"object","name":"LegendItem","id":"p1037","attributes":{"label":{"type":"value","value":"Baseline"},"renderers":[{"id":"p1033"}]}},{"type":"object","name":"LegendItem","id":"p1048","attributes":{"label":{"type":"value","value":"Reform"},"renderers":[{"id":"p1045"}]}}]}}]}}]}};
  const render_items = [{"docid":"4c5c5fc9-6b1d-4f4d-b276-984f9768ce63","roots":{"p1004":"a4c500d0-7265-4d8c-9795-3b505305bca6"},"root_ids":["p1004"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
<p>or we can change from the default asset category split to a split by industry by changing the value of the <code class="docutils literal notranslate"><span class="pre">group_by_asset</span></code> keyword argument:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualizing changes by industry</span>
<span class="n">iplot</span> <span class="o">=</span> <span class="n">calc1</span><span class="o">.</span><span class="n">grouped_bar</span><span class="p">(</span><span class="n">calc2</span><span class="p">,</span> <span class="n">group_by_asset</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">iplot</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="f201aef0-e96d-454d-9bda-8b7cb3a5c210" data-root-id="p1057" style="display: contents;"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"30b94151-5c28-423e-80bd-87ff8a0e86fe":{"version":"3.6.0","title":"Bokeh Application","roots":[{"type":"object","name":"Figure","id":"p1057","attributes":{"width":800,"height":800,"x_range":{"type":"object","name":"FactorRange","id":"p1066","attributes":{"factors":["Accommodation and food services","Administrative and waste management services","Agriculture, forestry, fishing, and hunting","Arts, entertainment, and recreation","Construction","Educational services","Finance and insurance","Health care and social assistance","Information","Management of companies and enterprises","Manufacturing","Mining","Other services, except government","Professional, scientific, and technical services","Real estate and rental and leasing","Retail trade","Transportation and warehousing","Utilities","Wholesale trade"],"range_padding":0.1}},"y_range":{"type":"object","name":"DataRange1d","id":"p1059"},"x_scale":{"type":"object","name":"CategoricalScale","id":"p1067"},"y_scale":{"type":"object","name":"LinearScale","id":"p1068"},"title":null,"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1086","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1054","attributes":{"selected":{"type":"object","name":"Selection","id":"p1055","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1056"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAAAARAAAAEgAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["major_industry",{"type":"ndarray","array":["Accommodation and food services","Administrative and waste management services","Agriculture, forestry, fishing, and hunting","Arts, entertainment, and recreation","Construction","Educational services","Finance and insurance","Health care and social assistance","Information","Management of companies and enterprises","Manufacturing","Mining","Other services, except government","Professional, scientific, and technical services","Real estate and rental and leasing","Retail trade","Transportation and warehousing","Utilities","Wholesale trade"],"shape":[19],"dtype":"object","order":"little"}],["Baseline",{"type":"ndarray","array":{"type":"bytes","data":"gqGwn3Ytzz/4kQ3iRe3FP84NwFKVSMo/oZuvWIqlxj8/eVdeCnvKP5Ad5uz7Hc0/3nDymU4myj88+1rh4ZzLPxIqleFOScM/gd1FsVxezT+8EUpqD0zIP5nrcLqiR78/zEgW81RQyz8uQGs44JvFP1/cJ9qUQ88/AvzF6bKqzz+NH+xu23rBPy2vydNuwb4/ZG6UOSHTzj8="},"shape":[19],"dtype":"float64","order":"little"}],["Reform",{"type":"ndarray","array":{"type":"bytes","data":"bCvomYZd2j9bDtYwQUnfPxxno6+s/9k/jdLF3C112j8UGjcaJrvcP6pRlQCopto/7G261oi+3z9kuPawcLfbPyOXaqB5qd0/AgmpN4m93T9eVoyJPEDdP+jxgMflUdo/oLmZR2QP2j9cD5HTDQzhPyYqhNWGZdg/NsBRSRL72j/8b46SKI7ZP7WuHbZGV9c/BZtN5+W+3D8="},"shape":[19],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1087","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1088"}}},"glyph":{"type":"object","name":"VBar","id":"p1083","attributes":{"x":{"type":"field","field":"major_industry","transform":{"type":"object","name":"Dodge","id":"p1079","attributes":{"range":{"id":"p1066"}}}},"width":{"type":"value","value":0.2},"top":{"type":"field","field":"Baseline"},"line_color":{"type":"value","value":"#718dbf"},"fill_color":{"type":"value","value":"#718dbf"},"hatch_color":{"type":"value","value":"#718dbf"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1084","attributes":{"x":{"type":"field","field":"major_industry","transform":{"id":"p1079"}},"width":{"type":"value","value":0.2},"top":{"type":"field","field":"Baseline"},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1085","attributes":{"x":{"type":"field","field":"major_industry","transform":{"id":"p1079"}},"width":{"type":"value","value":0.2},"top":{"type":"field","field":"Baseline"},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1098","attributes":{"data_source":{"id":"p1054"},"view":{"type":"object","name":"CDSView","id":"p1099","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1100"}}},"glyph":{"type":"object","name":"VBar","id":"p1095","attributes":{"x":{"type":"field","field":"major_industry","transform":{"type":"object","name":"Dodge","id":"p1091","attributes":{"value":0.25,"range":{"id":"p1066"}}}},"width":{"type":"value","value":0.2},"top":{"type":"field","field":"Reform"},"line_color":{"type":"value","value":"#e84d60"},"fill_color":{"type":"value","value":"#e84d60"},"hatch_color":{"type":"value","value":"#e84d60"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1096","attributes":{"x":{"type":"field","field":"major_industry","transform":{"id":"p1091"}},"width":{"type":"value","value":0.2},"top":{"type":"field","field":"Reform"},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1097","attributes":{"x":{"type":"field","field":"major_industry","transform":{"id":"p1091"}},"width":{"type":"value","value":0.2},"top":{"type":"field","field":"Reform"},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"Span","id":"p1102","attributes":{"location":0.19289504866181298,"line_color":"#718dbf","line_alpha":0.2,"line_width":2,"line_dash":[6]}},{"type":"object","name":"Span","id":"p1103","attributes":{"location":0.430550923049778,"line_color":"#e84d60","line_alpha":0.2,"line_width":2,"line_dash":[6]}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1065"},"toolbar_location":null,"left":[{"type":"object","name":"LinearAxis","id":"p1074","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1075","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1076"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1077"}}}],"below":[{"type":"object","name":"CategoricalAxis","id":"p1069","attributes":{"ticker":{"type":"object","name":"CategoricalTicker","id":"p1070"},"formatter":{"type":"object","name":"CategoricalTickFormatter","id":"p1071"},"major_label_orientation":45,"major_label_policy":{"type":"object","name":"AllLabels","id":"p1072"}}}],"center":[{"type":"object","name":"Grid","id":"p1073","attributes":{"axis":{"id":"p1069"},"grid_line_color":null}},{"type":"object","name":"Grid","id":"p1078","attributes":{"dimension":1,"axis":{"id":"p1074"}}},{"type":"object","name":"Legend","id":"p1089","attributes":{"location":"top_left","orientation":"horizontal","items":[{"type":"object","name":"LegendItem","id":"p1090","attributes":{"label":{"type":"value","value":"Baseline"},"renderers":[{"id":"p1086"}]}},{"type":"object","name":"LegendItem","id":"p1101","attributes":{"label":{"type":"value","value":"Reform"},"renderers":[{"id":"p1098"}]}}]}}]}}]}};
  const render_items = [{"docid":"30b94151-5c28-423e-80bd-87ff8a0e86fe","roots":{"p1057":"f201aef0-e96d-454d-9bda-8b7cb3a5c210"},"root_ids":["p1057"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
<p>There’s also a plot that illustrates the range of the effects of taxes on investments across asset types, by showing the min, max, and mean values:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot to show variation in METTRs across assets</span>
<span class="n">rplot</span> <span class="o">=</span> <span class="n">calc1</span><span class="o">.</span><span class="n">range_plot</span><span class="p">(</span><span class="n">calc2</span><span class="p">,</span> <span class="n">output_variable</span><span class="o">=</span><span class="s1">&#39;metr&#39;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">rplot</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="e2fa17ad-0e86-4485-80e1-aaeb704d8a5f" data-root-id="p1113" style="display: contents;"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"35b32db4-248e-479c-8586-26e51e5b2f19":{"version":"3.6.0","title":"Bokeh Application","roots":[{"type":"object","name":"Figure","id":"p1113","attributes":{"width":500,"height":500,"x_range":{"type":"object","name":"Range1d","id":"p1122","attributes":{"start":-0.5,"end":2.5}},"y_range":{"type":"object","name":"DataRange1d","id":"p1115"},"x_scale":{"type":"object","name":"LinearScale","id":"p1123"},"y_scale":{"type":"object","name":"LinearScale","id":"p1124"},"title":{"type":"object","name":"Title","id":"p1120","attributes":{"text_font":"Helvetica"}},"renderers":[{"type":"object","name":"Span","id":"p1138","attributes":{"location":0,"line_alpha":0.2,"line_width":2,"line_dash":[6]}},{"type":"object","name":"GlyphRenderer","id":"p1166","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1107","attributes":{"selected":{"type":"object","name":"Selection","id":"p1108","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1109"},"data":{"type":"map","entries":[["mins",[-0.05624938214693948,-0.3744565589681074,0.0311734886205302]],["maxes",[0.17012718109918695,-0.061244989151262315,0.2349718929324775]],["means",[0.05926072586790452,-0.22269195806682882,0.13716009827816375]],["min_asset",["Intellectual Property","Intellectual Property","Intellectual Property"]],["max_asset",["Inventories","Inventories","Inventories"]],["mean_asset",["Overall","Overall","Overall"]],["types",["Typically Financed","Debt Financed","Equity Financed"]],["positions",[-0.1,0.9,1.9]]]}}},"view":{"type":"object","name":"CDSView","id":"p1167","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1168"}}},"glyph":{"type":"object","name":"Segment","id":"p1163","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#718dbf"},"line_width":{"type":"value","value":2}}},"nonselection_glyph":{"type":"object","name":"Segment","id":"p1164","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"line_width":{"type":"value","value":2}}},"muted_glyph":{"type":"object","name":"Segment","id":"p1165","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"line_width":{"type":"value","value":2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1175","attributes":{"data_source":{"id":"p1107"},"view":{"type":"object","name":"CDSView","id":"p1176","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1177"}}},"glyph":{"type":"object","name":"Scatter","id":"p1172","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"fill_color":{"type":"value","value":"#718dbf"},"hatch_color":{"type":"value","value":"#718dbf"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1173","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1174","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1186","attributes":{"data_source":{"id":"p1107"},"view":{"type":"object","name":"CDSView","id":"p1187","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1188"}}},"glyph":{"type":"object","name":"Scatter","id":"p1183","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"fill_color":{"type":"value","value":"#718dbf"},"hatch_color":{"type":"value","value":"#718dbf"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1184","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1185","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1195","attributes":{"data_source":{"id":"p1107"},"view":{"type":"object","name":"CDSView","id":"p1196","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1197"}}},"glyph":{"type":"object","name":"Scatter","id":"p1192","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"fill_color":{"type":"value","value":"#718dbf"},"hatch_color":{"type":"value","value":"#718dbf"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1193","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1194","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1204","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1110","attributes":{"selected":{"type":"object","name":"Selection","id":"p1111","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1112"},"data":{"type":"map","entries":[["mins",[0.2450830790098336,-0.28925619834710714,0.3499999999999998]],["maxes",[0.4473580083611413,0.31159203105817856,0.48686856970008235]],["means",[0.3273535955745844,0.01554836808094234,0.40190465929171454]],["min_asset",["Land","Land","Land"]],["max_asset",["Intellectual Property","Intellectual Property","Intellectual Property"]],["mean_asset",["Overall","Overall","Overall"]],["types",["Typically Financed","Debt Financed","Equity Financed"]],["positions",[0.1,1.1,2.1]]]}}},"view":{"type":"object","name":"CDSView","id":"p1205","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1206"}}},"glyph":{"type":"object","name":"Segment","id":"p1201","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#e84d60"},"line_width":{"type":"value","value":2}}},"nonselection_glyph":{"type":"object","name":"Segment","id":"p1202","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"line_width":{"type":"value","value":2}}},"muted_glyph":{"type":"object","name":"Segment","id":"p1203","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"line_width":{"type":"value","value":2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1213","attributes":{"data_source":{"id":"p1110"},"view":{"type":"object","name":"CDSView","id":"p1214","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1215"}}},"glyph":{"type":"object","name":"Scatter","id":"p1210","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"fill_color":{"type":"value","value":"#e84d60"},"hatch_color":{"type":"value","value":"#e84d60"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1211","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1212","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1223","attributes":{"data_source":{"id":"p1110"},"view":{"type":"object","name":"CDSView","id":"p1224","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1225"}}},"glyph":{"type":"object","name":"Scatter","id":"p1220","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"fill_color":{"type":"value","value":"#e84d60"},"hatch_color":{"type":"value","value":"#e84d60"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1221","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1222","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1232","attributes":{"data_source":{"id":"p1110"},"view":{"type":"object","name":"CDSView","id":"p1233","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1234"}}},"glyph":{"type":"object","name":"Scatter","id":"p1229","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"fill_color":{"type":"value","value":"#e84d60"},"hatch_color":{"type":"value","value":"#e84d60"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1230","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1231","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1121"},"toolbar_location":null,"left":[{"type":"object","name":"LinearAxis","id":"p1130","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1131","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"NumeralTickFormatter","id":"p1137","attributes":{"format":"0%"}},"axis_label":"Marginal Effective Tax Rate","major_label_policy":{"type":"object","name":"AllLabels","id":"p1133"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1125","attributes":{"ticker":{"type":"object","name":"FixedTicker","id":"p1135","attributes":{"ticks":[0,1,2],"minor_ticks":[]}},"formatter":{"type":"object","name":"CustomJSTickFormatter","id":"p1136","attributes":{"code":"\n        var types = [\"Typically Financed\", \"Debt Financed\", \"Equity Financed\"]\n        return types[tick]\n        "}},"axis_label":"Method of Financing","major_label_policy":{"type":"object","name":"AllLabels","id":"p1128"}}}],"center":[{"type":"object","name":"Grid","id":"p1129","attributes":{"axis":{"id":"p1125"},"grid_line_color":null}},{"type":"object","name":"Grid","id":"p1134","attributes":{"dimension":1,"axis":{"id":"p1130"},"grid_line_color":null}},{"type":"object","name":"BoxAnnotation","id":"p1139","attributes":{"fill_color":"white","fill_alpha":0.2,"left":{"type":"object","name":"Node","id":"p1141","attributes":{"target":"frame","symbol":"left"}},"right":0.5,"top":{"type":"object","name":"Node","id":"p1142","attributes":{"target":"frame","symbol":"top"}},"bottom":{"type":"object","name":"Node","id":"p1143","attributes":{"target":"frame","symbol":"bottom"}},"handles":{"type":"object","name":"BoxInteractionHandles","id":"p1145","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1144","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}},{"type":"object","name":"BoxAnnotation","id":"p1146","attributes":{"fill_color":"white","fill_alpha":0.1,"left":0.5,"right":1.5,"top":{"type":"object","name":"Node","id":"p1149","attributes":{"target":"frame","symbol":"top"}},"bottom":{"type":"object","name":"Node","id":"p1150","attributes":{"target":"frame","symbol":"bottom"}},"handles":{"type":"object","name":"BoxInteractionHandles","id":"p1152","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1151","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}},{"type":"object","name":"BoxAnnotation","id":"p1153","attributes":{"fill_color":"white","fill_alpha":0.2,"left":1.5,"right":{"type":"object","name":"Node","id":"p1155","attributes":{"target":"frame","symbol":"right"}},"top":{"type":"object","name":"Node","id":"p1156","attributes":{"target":"frame","symbol":"top"}},"bottom":{"type":"object","name":"Node","id":"p1157","attributes":{"target":"frame","symbol":"bottom"}},"handles":{"type":"object","name":"BoxInteractionHandles","id":"p1159","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1158","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}},{"type":"object","name":"Legend","id":"p1178","attributes":{"location":"bottom_right","items":[{"type":"object","name":"LegendItem","id":"p1179","attributes":{"label":{"type":"value","value":"Baseline"},"renderers":[{"id":"p1175"},{"id":"p1186"},{"id":"p1195"}]}},{"type":"object","name":"LegendItem","id":"p1216","attributes":{"label":{"type":"value","value":"Reform"},"renderers":[{"id":"p1213"},{"id":"p1223"},{"id":"p1232"}]}}]}}]}}]}};
  const render_items = [{"docid":"35b32db4-248e-479c-8586-26e51e5b2f19","roots":{"p1113":"e2fa17ad-0e86-4485-80e1-aaeb704d8a5f"},"root_ids":["p1113"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
<p>changing to show the effects on pass-through businesses and for a different output variable:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">rplot</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="ccaa4e85-32b7-4529-a0b3-916568e1ff1f" data-root-id="p1113" style="display: contents;"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"def70bf7-c527-4a22-8f03-61d89f3ae665":{"version":"3.6.0","title":"Bokeh Application","roots":[{"type":"object","name":"Figure","id":"p1113","attributes":{"width":500,"height":500,"x_range":{"type":"object","name":"Range1d","id":"p1122","attributes":{"start":-0.5,"end":2.5}},"y_range":{"type":"object","name":"DataRange1d","id":"p1115"},"x_scale":{"type":"object","name":"LinearScale","id":"p1123"},"y_scale":{"type":"object","name":"LinearScale","id":"p1124"},"title":{"type":"object","name":"Title","id":"p1120","attributes":{"text_font":"Helvetica"}},"renderers":[{"type":"object","name":"Span","id":"p1138","attributes":{"location":0,"line_alpha":0.2,"line_width":2,"line_dash":[6]}},{"type":"object","name":"GlyphRenderer","id":"p1166","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1107","attributes":{"selected":{"type":"object","name":"Selection","id":"p1108","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1109"},"data":{"type":"map","entries":[["mins",[-0.05624938214693948,-0.3744565589681074,0.0311734886205302]],["maxes",[0.17012718109918695,-0.061244989151262315,0.2349718929324775]],["means",[0.05926072586790452,-0.22269195806682882,0.13716009827816375]],["min_asset",["Intellectual Property","Intellectual Property","Intellectual Property"]],["max_asset",["Inventories","Inventories","Inventories"]],["mean_asset",["Overall","Overall","Overall"]],["types",["Typically Financed","Debt Financed","Equity Financed"]],["positions",[-0.1,0.9,1.9]]]}}},"view":{"type":"object","name":"CDSView","id":"p1167","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1168"}}},"glyph":{"type":"object","name":"Segment","id":"p1163","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#718dbf"},"line_width":{"type":"value","value":2}}},"nonselection_glyph":{"type":"object","name":"Segment","id":"p1164","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"line_width":{"type":"value","value":2}}},"muted_glyph":{"type":"object","name":"Segment","id":"p1165","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"line_width":{"type":"value","value":2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1175","attributes":{"data_source":{"id":"p1107"},"view":{"type":"object","name":"CDSView","id":"p1176","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1177"}}},"glyph":{"type":"object","name":"Scatter","id":"p1172","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"fill_color":{"type":"value","value":"#718dbf"},"hatch_color":{"type":"value","value":"#718dbf"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1173","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1174","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1186","attributes":{"data_source":{"id":"p1107"},"view":{"type":"object","name":"CDSView","id":"p1187","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1188"}}},"glyph":{"type":"object","name":"Scatter","id":"p1183","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"fill_color":{"type":"value","value":"#718dbf"},"hatch_color":{"type":"value","value":"#718dbf"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1184","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1185","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1195","attributes":{"data_source":{"id":"p1107"},"view":{"type":"object","name":"CDSView","id":"p1196","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1197"}}},"glyph":{"type":"object","name":"Scatter","id":"p1192","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"fill_color":{"type":"value","value":"#718dbf"},"hatch_color":{"type":"value","value":"#718dbf"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1193","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1194","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1204","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1110","attributes":{"selected":{"type":"object","name":"Selection","id":"p1111","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1112"},"data":{"type":"map","entries":[["mins",[0.2450830790098336,-0.28925619834710714,0.3499999999999998]],["maxes",[0.4473580083611413,0.31159203105817856,0.48686856970008235]],["means",[0.3273535955745844,0.01554836808094234,0.40190465929171454]],["min_asset",["Land","Land","Land"]],["max_asset",["Intellectual Property","Intellectual Property","Intellectual Property"]],["mean_asset",["Overall","Overall","Overall"]],["types",["Typically Financed","Debt Financed","Equity Financed"]],["positions",[0.1,1.1,2.1]]]}}},"view":{"type":"object","name":"CDSView","id":"p1205","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1206"}}},"glyph":{"type":"object","name":"Segment","id":"p1201","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#e84d60"},"line_width":{"type":"value","value":2}}},"nonselection_glyph":{"type":"object","name":"Segment","id":"p1202","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"line_width":{"type":"value","value":2}}},"muted_glyph":{"type":"object","name":"Segment","id":"p1203","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"line_width":{"type":"value","value":2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1213","attributes":{"data_source":{"id":"p1110"},"view":{"type":"object","name":"CDSView","id":"p1214","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1215"}}},"glyph":{"type":"object","name":"Scatter","id":"p1210","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"fill_color":{"type":"value","value":"#e84d60"},"hatch_color":{"type":"value","value":"#e84d60"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1211","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1212","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1223","attributes":{"data_source":{"id":"p1110"},"view":{"type":"object","name":"CDSView","id":"p1224","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1225"}}},"glyph":{"type":"object","name":"Scatter","id":"p1220","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"fill_color":{"type":"value","value":"#e84d60"},"hatch_color":{"type":"value","value":"#e84d60"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1221","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1222","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1232","attributes":{"data_source":{"id":"p1110"},"view":{"type":"object","name":"CDSView","id":"p1233","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1234"}}},"glyph":{"type":"object","name":"Scatter","id":"p1229","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"fill_color":{"type":"value","value":"#e84d60"},"hatch_color":{"type":"value","value":"#e84d60"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1230","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1231","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1121"},"toolbar_location":null,"left":[{"type":"object","name":"LinearAxis","id":"p1130","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1131","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"NumeralTickFormatter","id":"p1137","attributes":{"format":"0%"}},"axis_label":"Marginal Effective Tax Rate","major_label_policy":{"type":"object","name":"AllLabels","id":"p1133"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1125","attributes":{"ticker":{"type":"object","name":"FixedTicker","id":"p1135","attributes":{"ticks":[0,1,2],"minor_ticks":[]}},"formatter":{"type":"object","name":"CustomJSTickFormatter","id":"p1136","attributes":{"code":"\n        var types = [\"Typically Financed\", \"Debt Financed\", \"Equity Financed\"]\n        return types[tick]\n        "}},"axis_label":"Method of Financing","major_label_policy":{"type":"object","name":"AllLabels","id":"p1128"}}}],"center":[{"type":"object","name":"Grid","id":"p1129","attributes":{"axis":{"id":"p1125"},"grid_line_color":null}},{"type":"object","name":"Grid","id":"p1134","attributes":{"dimension":1,"axis":{"id":"p1130"},"grid_line_color":null}},{"type":"object","name":"BoxAnnotation","id":"p1139","attributes":{"fill_color":"white","fill_alpha":0.2,"left":{"type":"object","name":"Node","id":"p1141","attributes":{"target":"frame","symbol":"left"}},"right":0.5,"top":{"type":"object","name":"Node","id":"p1142","attributes":{"target":"frame","symbol":"top"}},"bottom":{"type":"object","name":"Node","id":"p1143","attributes":{"target":"frame","symbol":"bottom"}},"handles":{"type":"object","name":"BoxInteractionHandles","id":"p1145","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1144","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}},{"type":"object","name":"BoxAnnotation","id":"p1146","attributes":{"fill_color":"white","fill_alpha":0.1,"left":0.5,"right":1.5,"top":{"type":"object","name":"Node","id":"p1149","attributes":{"target":"frame","symbol":"top"}},"bottom":{"type":"object","name":"Node","id":"p1150","attributes":{"target":"frame","symbol":"bottom"}},"handles":{"type":"object","name":"BoxInteractionHandles","id":"p1152","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1151","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}},{"type":"object","name":"BoxAnnotation","id":"p1153","attributes":{"fill_color":"white","fill_alpha":0.2,"left":1.5,"right":{"type":"object","name":"Node","id":"p1155","attributes":{"target":"frame","symbol":"right"}},"top":{"type":"object","name":"Node","id":"p1156","attributes":{"target":"frame","symbol":"top"}},"bottom":{"type":"object","name":"Node","id":"p1157","attributes":{"target":"frame","symbol":"bottom"}},"handles":{"type":"object","name":"BoxInteractionHandles","id":"p1159","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1158","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}},{"type":"object","name":"Legend","id":"p1178","attributes":{"location":"bottom_right","items":[{"type":"object","name":"LegendItem","id":"p1179","attributes":{"label":{"type":"value","value":"Baseline"},"renderers":[{"id":"p1175"},{"id":"p1186"},{"id":"p1195"}]}},{"type":"object","name":"LegendItem","id":"p1216","attributes":{"label":{"type":"value","value":"Reform"},"renderers":[{"id":"p1213"},{"id":"p1223"},{"id":"p1232"}]}}]}}]}}]}};
  const render_items = [{"docid":"def70bf7-c527-4a22-8f03-61d89f3ae665","roots":{"p1113":"ccaa4e85-32b7-4529-a0b3-916568e1ff1f"},"root_ids":["p1113"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot to show variation in METTRs across assets</span>
<span class="n">output_notebook</span><span class="p">()</span>
<span class="n">rplot2</span> <span class="o">=</span> <span class="n">calc1</span><span class="o">.</span><span class="n">range_plot</span><span class="p">(</span><span class="n">calc2</span><span class="p">,</span> <span class="n">corporate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">output_variable</span><span class="o">=</span><span class="s1">&#39;mettr&#39;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">rplot2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">    <style>
        .bk-notebook-logo {
            display: block;
            width: 20px;
            height: 20px;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAOkSURBVDiNjZRtaJVlGMd/1/08zzln5zjP1LWcU9N0NkN8m2CYjpgQYQXqSs0I84OLIC0hkEKoPtiH3gmKoiJDU7QpLgoLjLIQCpEsNJ1vqUOdO7ppbuec5+V+rj4ctwzd8IIbbi6u+8f1539dt3A78eXC7QizUF7gyV1fD1Yqg4JWz84yffhm0qkFqBogB9rM8tZdtwVsPUhWhGcFJngGeWrPzHm5oaMmkfEg1usvLFyc8jLRqDOMru7AyC8saQr7GG7f5fvDeH7Ej8CM66nIF+8yngt6HWaKh7k49Soy9nXurCi1o3qUbS3zWfrYeQDTB/Qj6kX6Ybhw4B+bOYoLKCC9H3Nu/leUTZ1JdRWkkn2ldcCamzrcf47KKXdAJllSlxAOkRgyHsGC/zRday5Qld9DyoM4/q/rUoy/CXh3jzOu3bHUVZeU+DEn8FInkPBFlu3+nW3Nw0mk6vCDiWg8CeJaxEwuHS3+z5RgY+YBR6V1Z1nxSOfoaPa4LASWxxdNp+VWTk7+4vzaou8v8PN+xo+KY2xsw6une2frhw05CTYOmQvsEhjhWjn0bmXPjpE1+kplmmkP3suftwTubK9Vq22qKmrBhpY4jvd5afdRA3wGjFAgcnTK2s4hY0/GPNIb0nErGMCRxWOOX64Z8RAC4oCXdklmEvcL8o0BfkNK4lUg9HTl+oPlQxdNo3Mg4Nv175e/1LDGzZen30MEjRUtmXSfiTVu1kK8W4txyV6BMKlbgk3lMwYCiusNy9fVfvvwMxv8Ynl6vxoByANLTWplvuj/nF9m2+PDtt1eiHPBr1oIfhCChQMBw6Aw0UulqTKZdfVvfG7VcfIqLG9bcldL/+pdWTLxLUy8Qq38heUIjh4XlzZxzQm19lLFlr8vdQ97rjZVOLf8nclzckbcD4wxXMidpX30sFd37Fv/GtwwhzhxGVAprjbg0gCAEeIgwCZyTV2Z1REEW8O4py0wsjeloKoMr6iCY6dP92H6Vw/oTyICIthibxjm/DfN9lVz8IqtqKYLUXfoKVMVQVVJOElGjrnnUt9T9wbgp8AyYKaGlqingHZU/uG2NTZSVqwHQTWkx9hxjkpWDaCg6Ckj5qebgBVbT3V3NNXMSiWSDdGV3hrtzla7J+duwPOToIg42ChPQOQjspnSlp1V+Gjdged7+8UN5CRAV7a5EdFNwCjEaBR27b3W890TE7g24NAP/mMDXRWrGoFPQI9ls/MWO2dWFAar/xcOIImbbpA3zgAAAABJRU5ErkJggg==);
        }
    </style>
    <div>
        <a href="https://bokeh.org" target="_blank" class="bk-notebook-logo"></a>
        <span id="e3499306-307e-4269-8856-8dde01074b1f">Loading BokehJS ...</span>
    </div>
</div><script type="application/javascript">'use strict';
(function(root) {
  function now() {
    return new Date();
  }

  const force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

const JS_MIME_TYPE = 'application/javascript';
  const HTML_MIME_TYPE = 'text/html';
  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  const CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    const script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    function drop(id) {
      const view = Bokeh.index.get_by_id(id)
      if (view != null) {
        view.model.document.clear()
        Bokeh.index.delete(view)
      }
    }

    const cell = handle.cell;

    const id = cell.output_area._bokeh_element_id;
    const server_id = cell.output_area._bokeh_server_id;

    // Clean up Bokeh references
    if (id != null) {
      drop(id)
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      const cmd_clean = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd_clean, {
        iopub: {
          output: function(msg) {
            const id = msg.content.text.trim()
            drop(id)
          }
        }
      });
      // Destroy server and session
      const cmd_destroy = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd_destroy);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    const output_area = handle.output_area;
    const output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    const toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      const bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      const script_attrs = bk_div.children[0].attributes;
      for (let i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      const toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    const events = require('base/js/events');
    const OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  const NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded(error = null) {
    const el = document.getElementById("e3499306-307e-4269-8856-8dde01074b1f");
    if (el != null) {
      const html = (() => {
        if (typeof root.Bokeh === "undefined") {
          if (error == null) {
            return "BokehJS is loading ...";
          } else {
            return "BokehJS failed to load.";
          }
        } else {
          const prefix = `BokehJS ${root.Bokeh.version}`;
          if (error == null) {
            return `${prefix} successfully loaded.`;
          } else {
            return `${prefix} <b>encountered errors</b> while loading and may not function as expected.`;
          }
        }
      })();
      el.innerHTML = html;

      if (error != null) {
        const wrapper = document.createElement("div");
        wrapper.style.overflow = "auto";
        wrapper.style.height = "5em";
        wrapper.style.resize = "vertical";
        const content = document.createElement("div");
        content.style.fontFamily = "monospace";
        content.style.whiteSpace = "pre-wrap";
        content.style.backgroundColor = "rgb(255, 221, 221)";
        content.textContent = error.stack ?? error.toString();
        wrapper.append(content);
        el.append(wrapper);
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(() => display_loaded(error), 100);
    }
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  const js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-3.6.0.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.6.0.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.6.0.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.6.0.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.6.0.min.js"];
  const css_urls = [];

  const inline_js = [    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
function(Bokeh) {
    }
  ];

  function run_inline_js() {
    if (root.Bokeh !== undefined || force === true) {
      try {
            for (let i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }

      } catch (error) {display_loaded(error);throw error;
      }if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      const cell = $(document.getElementById("e3499306-307e-4269-8856-8dde01074b1f")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));</script><div class="output text_html">
  <div id="db4c4935-345b-4834-9216-4d414ab464a8" data-root-id="p1241" style="display: contents;"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"7f44cbee-4fa9-483f-8d6d-ed8f86896e4c":{"version":"3.6.0","title":"Bokeh Application","roots":[{"type":"object","name":"Figure","id":"p1241","attributes":{"width":500,"height":500,"x_range":{"type":"object","name":"Range1d","id":"p1250","attributes":{"start":-0.5,"end":2.5}},"y_range":{"type":"object","name":"DataRange1d","id":"p1243"},"x_scale":{"type":"object","name":"LinearScale","id":"p1251"},"y_scale":{"type":"object","name":"LinearScale","id":"p1252"},"title":{"type":"object","name":"Title","id":"p1248","attributes":{"text_font":"Helvetica"}},"renderers":[{"type":"object","name":"Span","id":"p1266","attributes":{"location":0,"line_alpha":0.2,"line_width":2,"line_dash":[6]}},{"type":"object","name":"GlyphRenderer","id":"p1294","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1235","attributes":{"selected":{"type":"object","name":"Selection","id":"p1236","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1237"},"data":{"type":"map","entries":[["mins",[0.04617759270220582,0.12278441016530345,0.025663968989954686]],["maxes",[0.2475148400846934,0.3177721709008865,0.22826450569894144]],["means",[0.19322439051992304,0.25815627543780545,0.17595429560856538]],["min_asset",["Intellectual Property","Intellectual Property","Intellectual Property"]],["max_asset",["Inventories","Inventories","Inventories"]],["mean_asset",["Overall","Overall","Overall"]],["types",["Typically Financed","Debt Financed","Equity Financed"]],["positions",[-0.1,0.9,1.9]]]}}},"view":{"type":"object","name":"CDSView","id":"p1295","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1296"}}},"glyph":{"type":"object","name":"Segment","id":"p1291","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#718dbf"},"line_width":{"type":"value","value":2}}},"nonselection_glyph":{"type":"object","name":"Segment","id":"p1292","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"line_width":{"type":"value","value":2}}},"muted_glyph":{"type":"object","name":"Segment","id":"p1293","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"line_width":{"type":"value","value":2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1303","attributes":{"data_source":{"id":"p1235"},"view":{"type":"object","name":"CDSView","id":"p1304","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1305"}}},"glyph":{"type":"object","name":"Scatter","id":"p1300","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"fill_color":{"type":"value","value":"#718dbf"},"hatch_color":{"type":"value","value":"#718dbf"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1301","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1302","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1314","attributes":{"data_source":{"id":"p1235"},"view":{"type":"object","name":"CDSView","id":"p1315","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1316"}}},"glyph":{"type":"object","name":"Scatter","id":"p1311","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"fill_color":{"type":"value","value":"#718dbf"},"hatch_color":{"type":"value","value":"#718dbf"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1312","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1313","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1323","attributes":{"data_source":{"id":"p1235"},"view":{"type":"object","name":"CDSView","id":"p1324","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1325"}}},"glyph":{"type":"object","name":"Scatter","id":"p1320","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"fill_color":{"type":"value","value":"#718dbf"},"hatch_color":{"type":"value","value":"#718dbf"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1321","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1322","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#718dbf"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1332","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1238","attributes":{"selected":{"type":"object","name":"Selection","id":"p1239","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1240"},"data":{"type":"map","entries":[["mins",[0.07584011560908044,0.11680693373157533,0.06599599369534613]],["maxes",[0.2953773572139912,0.340691314077174,0.2839462823550114]],["means",[0.23737262081184923,0.27024315103285335,0.22969006477538415]],["min_asset",["Intellectual Property","Intellectual Property","Intellectual Property"]],["max_asset",["Inventories","Inventories","Inventories"]],["mean_asset",["Overall","Overall","Overall"]],["types",["Typically Financed","Debt Financed","Equity Financed"]],["positions",[0.1,1.1,2.1]]]}}},"view":{"type":"object","name":"CDSView","id":"p1333","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1334"}}},"glyph":{"type":"object","name":"Segment","id":"p1329","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#e84d60"},"line_width":{"type":"value","value":2}}},"nonselection_glyph":{"type":"object","name":"Segment","id":"p1330","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"line_width":{"type":"value","value":2}}},"muted_glyph":{"type":"object","name":"Segment","id":"p1331","attributes":{"x0":{"type":"field","field":"positions"},"y0":{"type":"field","field":"mins"},"x1":{"type":"field","field":"positions"},"y1":{"type":"field","field":"maxes"},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"line_width":{"type":"value","value":2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1341","attributes":{"data_source":{"id":"p1238"},"view":{"type":"object","name":"CDSView","id":"p1342","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1343"}}},"glyph":{"type":"object","name":"Scatter","id":"p1338","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"fill_color":{"type":"value","value":"#e84d60"},"hatch_color":{"type":"value","value":"#e84d60"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1339","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1340","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"means"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1351","attributes":{"data_source":{"id":"p1238"},"view":{"type":"object","name":"CDSView","id":"p1352","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1353"}}},"glyph":{"type":"object","name":"Scatter","id":"p1348","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"fill_color":{"type":"value","value":"#e84d60"},"hatch_color":{"type":"value","value":"#e84d60"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1349","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1350","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"mins"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1360","attributes":{"data_source":{"id":"p1238"},"view":{"type":"object","name":"CDSView","id":"p1361","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1362"}}},"glyph":{"type":"object","name":"Scatter","id":"p1357","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"fill_color":{"type":"value","value":"#e84d60"},"hatch_color":{"type":"value","value":"#e84d60"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1358","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1359","attributes":{"x":{"type":"field","field":"positions"},"y":{"type":"field","field":"maxes"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#e84d60"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1249"},"toolbar_location":null,"left":[{"type":"object","name":"LinearAxis","id":"p1258","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1259","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"NumeralTickFormatter","id":"p1265","attributes":{"format":"0%"}},"axis_label":"Marginal Effective Total Tax Rate","major_label_policy":{"type":"object","name":"AllLabels","id":"p1261"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1253","attributes":{"ticker":{"type":"object","name":"FixedTicker","id":"p1263","attributes":{"ticks":[0,1,2],"minor_ticks":[]}},"formatter":{"type":"object","name":"CustomJSTickFormatter","id":"p1264","attributes":{"code":"\n        var types = [\"Typically Financed\", \"Debt Financed\", \"Equity Financed\"]\n        return types[tick]\n        "}},"axis_label":"Method of Financing","major_label_policy":{"type":"object","name":"AllLabels","id":"p1256"}}}],"center":[{"type":"object","name":"Grid","id":"p1257","attributes":{"axis":{"id":"p1253"},"grid_line_color":null}},{"type":"object","name":"Grid","id":"p1262","attributes":{"dimension":1,"axis":{"id":"p1258"},"grid_line_color":null}},{"type":"object","name":"BoxAnnotation","id":"p1267","attributes":{"fill_color":"white","fill_alpha":0.2,"left":{"type":"object","name":"Node","id":"p1269","attributes":{"target":"frame","symbol":"left"}},"right":0.5,"top":{"type":"object","name":"Node","id":"p1270","attributes":{"target":"frame","symbol":"top"}},"bottom":{"type":"object","name":"Node","id":"p1271","attributes":{"target":"frame","symbol":"bottom"}},"handles":{"type":"object","name":"BoxInteractionHandles","id":"p1273","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1272","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}},{"type":"object","name":"BoxAnnotation","id":"p1274","attributes":{"fill_color":"white","fill_alpha":0.1,"left":0.5,"right":1.5,"top":{"type":"object","name":"Node","id":"p1277","attributes":{"target":"frame","symbol":"top"}},"bottom":{"type":"object","name":"Node","id":"p1278","attributes":{"target":"frame","symbol":"bottom"}},"handles":{"type":"object","name":"BoxInteractionHandles","id":"p1280","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1279","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}},{"type":"object","name":"BoxAnnotation","id":"p1281","attributes":{"fill_color":"white","fill_alpha":0.2,"left":1.5,"right":{"type":"object","name":"Node","id":"p1283","attributes":{"target":"frame","symbol":"right"}},"top":{"type":"object","name":"Node","id":"p1284","attributes":{"target":"frame","symbol":"top"}},"bottom":{"type":"object","name":"Node","id":"p1285","attributes":{"target":"frame","symbol":"bottom"}},"handles":{"type":"object","name":"BoxInteractionHandles","id":"p1287","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1286","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}},{"type":"object","name":"Legend","id":"p1306","attributes":{"location":"bottom_right","items":[{"type":"object","name":"LegendItem","id":"p1307","attributes":{"label":{"type":"value","value":"Baseline"},"renderers":[{"id":"p1303"},{"id":"p1314"},{"id":"p1323"}]}},{"type":"object","name":"LegendItem","id":"p1344","attributes":{"label":{"type":"value","value":"Reform"},"renderers":[{"id":"p1341"},{"id":"p1351"},{"id":"p1360"}]}}]}}]}}]}};
  const render_items = [{"docid":"7f44cbee-4fa9-483f-8d6d-ed8f86896e4c","roots":{"p1241":"db4c4935-345b-4834-9216-4d414ab464a8"},"root_ids":["p1241"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
<p>There’s a bubble plot too, though it doesn’t yet allow for many options (currently only plots METTRs for corporate entities):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bplot</span> <span class="o">=</span> <span class="n">calc1</span><span class="o">.</span><span class="n">asset_bubble</span><span class="p">(</span><span class="n">calc2</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">bplot</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING:bokeh.core.validation.check:W-1000 (MISSING_RENDERERS): Plot has no renderers: figure(id=&#39;p1409&#39;, ...)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING:bokeh.core.validation.check:W-1000 (MISSING_RENDERERS): Plot has no renderers: figure(id=&#39;p1470&#39;, ...)
</pre></div>
</div>
<div class="output text_html">
  <div id="e498ff8e-3c3d-4929-8c23-5305635e74a7" data-root-id="p1497" style="display: contents;"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"3e2b8172-458c-48d7-9ffb-03aec44bef68":{"version":"3.6.0","title":"Bokeh Application","roots":[{"type":"object","name":"Tabs","id":"p1497","attributes":{"tabs":[{"type":"object","name":"TabPanel","id":"p1494","attributes":{"title":"Equipment","child":{"type":"object","name":"Column","id":"p1493","attributes":{"children":[{"type":"object","name":"Figure","id":"p1369","attributes":{"width":990,"height":540,"x_range":{"type":"object","name":"Range1d","id":"p1378","attributes":{"start":-0.05,"end":0.51}},"y_range":{"type":"object","name":"FactorRange","id":"p1379","attributes":{"factors":["Other","Other Industrial","Industrial Machinery","Transportation","Office and Residential","Instruments and Communications","Computers and Software"]}},"x_scale":{"type":"object","name":"LinearScale","id":"p1380"},"y_scale":{"type":"object","name":"CategoricalScale","id":"p1381"},"title":{"type":"object","name":"Title","id":"p1376"},"outline_line_color":"black","outline_line_width":1,"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1403","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1394","attributes":{"selected":{"type":"object","name":"Selection","id":"p1395","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1396"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAAAARAAAAEgAAABMAAAAUAAAAFQAAABYAAAAXAAAAGAAAABkAAAAaAAAAGwAAABwAAAAdAAAAHgAAAB8AAAAgAAAAIQAAACIAAAAjAAAAJAAAACUAAAAmAAAAJwAAACgAAADGAAAAxwAAAMgAAADOAAAAzwAAANAAAADTAAAA"},"shape":[48],"dtype":"int32","order":"little"}],["baseline",{"type":"ndarray","array":{"type":"bytes","data":"vuusl0h/xT9+bF6+bfrAPzMPNaz46MY/Mw81rPjoxj8oDzWs+OjGPygPNaz46MY/Ng81rPjoxj8oDzWs+OjGPzMPNaz46MY/LA81rPjoxj8nPR6W1iK9P9CgRxdddb0/KXtyygD2wj/O9leGtOe9P9tm7FRvir4/tek3fsyevz+16Td+zJ6/P8bpN37Mnr8/eF9DmgoOvD/evbtaoku+PwXitaJqq70/HAVeXdJ9wD/aHOdhxaTBP6fi6F4nSMA/ZvQGlXFCwT/s2A5WIzy8P4z+7L5Dp74/8Zb8hcWewD9NNHLvmzPAP1dvU0gIkr0/3r27WqJLvj8yh/YWxxW9P9H0ymqGYsA/HsJFDcG+wD9SCopRi33CP5GcPQckG74/iZw9ByQbvj9agi7BfInDP2N3wiRE9rg/71QNqK7dvD9DAsIjB5q5Px1TgDecycM/gfmMvwBXvT+5luEAhaO+P/Ehe8PZMb4/mmzgvchpwD8mfQ4MTXa/P6oZBagx4L0/"},"shape":[48],"dtype":"float64","order":"little"}],["size",{"type":"ndarray","array":{"type":"bytes","data":"IwAAADIAAAAUAAAAIwAAABQAAAAUAAAAFAAAABQAAAAUAAAAIwAAADIAAABBAAAAFAAAAEEAAAAUAAAAMgAAACMAAAAjAAAAFAAAADIAAAAUAAAAIwAAABQAAAAyAAAAFAAAACMAAAAyAAAAQQAAABQAAAAUAAAAIwAAADIAAAAjAAAAIwAAABQAAAAyAAAAIwAAADIAAAAyAAAAIwAAACMAAABBAAAAQQAAAEEAAAAyAAAAMgAAAEEAAABBAAAA"},"shape":[48],"dtype":"int32","order":"little"}],["hover",{"type":"ndarray","array":["0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%","0.%"],"shape":[48],"dtype":"object","order":"little"}],["assets",{"type":"ndarray","array":{"type":"bytes","data":"guiTRJDTMELUVaUIN/ZGQh+VzBinNxBCqeCRDsHvKEIAAAAAAAAAAFNzOHSIPwFCsBvVAVkXB0IAAAAAAAAAADUokQduzP1BeWM0iaxdGkIJ/Fm/uylQQqBKFSw0u1tCugfwReMT+0EDAkHtxwFdQiG4dVx1TRdCKpXJY/oEP0K8yX5/UXkxQqw/XGX+OjlCI5M5K0SUAEIHwQQ+J3hHQgIRiof0juRB9Dhz5OZvN0Jh54bUKFUPQnIrSU8wkElC4ljVPToM+EF4baBsU147Qvrg35pve0lCuZZFXPKlWELZEUQaZeAWQg5fNzePbgJC/EhZQAzFJULNGx/XE8Y8QpXTvLf6wTNCZi6+73dWNULjDFXOJQcHQrt8k/J2g0NCIy4brJ/VO0J1opjchrg/QoQzxAY9905CcwcfBRFDLUJ6zQEMnmM5QsKhOLU1MVdCVaO39XfyZUKkoiSxoKhoQn2C1lKn00hCMZtlJ7ueU0KCjHryx7tuQkmqbzYCGGxC"},"shape":[48],"dtype":"float64","order":"little"}],["short_category",{"type":"ndarray","array":["Computers and Software","Computers and Software","Computers and Software","Computers and Software","Computers and Software","Computers and Software","Computers and Software","Computers and Software","Computers and Software","Computers and Software","Industrial Machinery","Industrial Machinery","Instruments and Communications","Instruments and Communications","Instruments and Communications","Instruments and Communications","Instruments and Communications","Instruments and Communications","Office and Residential","Office and Residential","Office and Residential","Other","Other","Other","Other Industrial","Other Industrial","Other Industrial","Other Industrial","Other Industrial","Other Industrial","Other Industrial","Other Industrial","Other Industrial","Transportation","Transportation","Transportation","Transportation","Transportation","Transportation","Transportation","Transportation","Computers and Software","Industrial Machinery","Instruments and Communications","Office and Residential","Other","Other Industrial","Transportation"],"shape":[48],"dtype":"object","order":"little"}],["asset_name",{"type":"ndarray","array":["Prepackaged software","Custom software","Mainframes","PCs","DASDs","Printers","Terminals","Tape drives","Storage devices","System integrators","Special industrial machinery","General industrial equipment","Office and accounting equipment","Communications","Photocopy and related equipment","Nonelectro medical instruments","Electro medical instruments","Nonmedical instruments","Household furniture","Other furniture","Household appliances","Service industry machinery","Other electrical","Other","Nuclear fuel","Other fabricated metals","Metalworking machinery","Electric transmission and distribution","Farm tractors","Construction tractors","Other agricultural machinery","Other construction machinery","Mining and oilfield machinery","Steam engines","Internal combustion engines","Light trucks (including utility vehicles)","Other trucks, buses and truck trailers","Autos","Aircraft","Ships and boats","Railroad equipment","Computers and Software","Industrial Machinery","Instruments and Communications Equipment","Office and Residential Equipment","Other Equipment","Other Industrial Equipment","Transportation Equipment"],"shape":[48],"dtype":"object","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1404","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1405"}}},"glyph":{"type":"object","name":"Scatter","id":"p1400","attributes":{"x":{"type":"field","field":"baseline"},"y":{"type":"field","field":"short_category"},"size":{"type":"field","field":"size"},"line_color":{"type":"value","value":"#333333"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.4},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.4}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1401","attributes":{"x":{"type":"field","field":"baseline"},"y":{"type":"field","field":"short_category"},"size":{"type":"field","field":"size"},"line_color":{"type":"value","value":"#333333"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1402","attributes":{"x":{"type":"field","field":"baseline"},"y":{"type":"field","field":"short_category"},"size":{"type":"field","field":"size"},"line_color":{"type":"value","value":"#333333"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#718dbf"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#718dbf"},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1377","attributes":{"tools":[{"type":"object","name":"HoverTool","id":"p1392","attributes":{"renderers":"auto","tooltips":[["Asset"," @asset_name (@hover)"]]}}]}},"toolbar_location":null,"left":[{"type":"object","name":"CategoricalAxis","id":"p1387","attributes":{"ticker":{"type":"object","name":"CategoricalTicker","id":"p1388"},"formatter":{"type":"object","name":"CategoricalTickFormatter","id":"p1389"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1390"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1382","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1383","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"NumeralTickFormatter","id":"p1393","attributes":{"format":"0.1%"}},"axis_label":"Marginal Effective Tax Rate","major_label_policy":{"type":"object","name":"AllLabels","id":"p1385"},"major_tick_line_color":"firebrick","major_tick_line_width":3,"minor_tick_line_color":"orange"}}],"center":[{"type":"object","name":"Grid","id":"p1386","attributes":{"axis":{"id":"p1382"}}},{"type":"object","name":"Grid","id":"p1391","attributes":{"dimension":1,"axis":{"id":"p1387"}}}],"background_fill_alpha":0,"border_fill_alpha":0,"min_border_top":5,"min_border_bottom":0,"min_border_left":0,"min_border_right":5}},{"type":"object","name":"Figure","id":"p1409","attributes":{"width":380,"height":150,"x_range":{"type":"object","name":"Range1d","id":"p1419","attributes":{"start":-0.075,"end":75}},"y_range":{"type":"object","name":"DataRange1d","id":"p1411"},"x_scale":{"type":"object","name":"LinearScale","id":"p1420"},"y_scale":{"type":"object","name":"LinearScale","id":"p1421"},"title":{"type":"object","name":"Title","id":"p1412","attributes":{"text":"Asset Amount"}},"toolbar":{"type":"object","name":"Toolbar","id":"p1418","attributes":{"active_drag":null}},"left":[{"type":"object","name":"LinearAxis","id":"p1427","attributes":{"visible":false,"ticker":{"type":"object","name":"BasicTicker","id":"p1428","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1429"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1430"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1422","attributes":{"visible":false,"ticker":{"type":"object","name":"BasicTicker","id":"p1423","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1424"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1425"}}}],"center":[{"type":"object","name":"Grid","id":"p1426","attributes":{"axis":{"id":"p1422"},"grid_line_color":null}},{"type":"object","name":"Grid","id":"p1431","attributes":{"dimension":1,"axis":{"id":"p1427"},"grid_line_color":null}}]}}]}}}},{"type":"object","name":"TabPanel","id":"p1496","attributes":{"title":"Structures","child":{"type":"object","name":"Column","id":"p1495","attributes":{"children":[{"type":"object","name":"Figure","id":"p1432","attributes":{"width":990,"height":540,"x_range":{"type":"object","name":"Range1d","id":"p1441","attributes":{"start":-0.05,"end":0.51}},"y_range":{"type":"object","name":"FactorRange","id":"p1442","attributes":{"factors":["Other","Mining and Drilling","Nonresidential Bldgs","Residential Bldgs"]}},"x_scale":{"type":"object","name":"LinearScale","id":"p1443"},"y_scale":{"type":"object","name":"CategoricalScale","id":"p1444"},"title":{"type":"object","name":"Title","id":"p1439"},"outline_line_color":"black","outline_line_width":1,"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1467","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1458","attributes":{"selected":{"type":"object","name":"Selection","id":"p1459","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1460"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"QgAAAEMAAABEAAAARQAAAEYAAABHAAAASAAAAEkAAABKAAAASwAAAEwAAABNAAAATgAAAE8AAABQAAAAUQAAAFIAAABTAAAAVAAAAFUAAABWAAAAVwAAAFgAAABZAAAAWgAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAAGEAAABiAAAAzAAAAM0AAADRAAAA0gAAAOYAAAA="},"shape":[38],"dtype":"int32","order":"little"}],["baseline",{"type":"ndarray","array":{"type":"bytes","data":"88ZDn9FNuD9L6NyroHe4P0+3BGAkDb0/88ZDn9FNuD99opHSzR61P5VW5m1IvMw/qQC6i6hszz+sALqLqGzPP6kAuouobM8/2jpVggzx0D9CzTfCK17QP0LNN8IrXtA/5DYmWn010D8OgFSGD7LQPwuAVIYPstA/CIBUhg+y0D/11sDy51zRP0LNN8IrXtA/tLDVq91/0D+xsNWr3X/QP0rtAFoFO7c/Qs03wite0D99opHSzR61P5FuV6Rior8/YogrPURdvz9aiCs9RF2/P+ZTwI4/27w/xs9agldVuT9GqtcLCWq+P3ad4kuazrY/LK6tLu6gvD/bljXztIi1P2cwgi/i2Ms/zG4pns5uuT9nBTQ0GZfQP7FbpnAF1bs/ZzCCL+LYyz/DHGZUad/IPw=="},"shape":[38],"dtype":"float64","order":"little"}],["size",{"type":"ndarray","array":{"type":"bytes","data":"QQAAACMAAABBAAAAQQAAACMAAAAjAAAAMgAAADIAAAAjAAAAMgAAABQAAAAUAAAAMgAAAEEAAABBAAAAMgAAAEEAAAAUAAAAQQAAACMAAAAyAAAAFAAAABQAAAAjAAAAIwAAACMAAAAUAAAAFAAAADIAAAAyAAAAQQAAACMAAAAyAAAAQQAAAEEAAABBAAAAMgAAAEEAAAA="},"shape":[38],"dtype":"int32","order":"little"}],["hover",{"type":"ndarray","array":["0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%","0%"],"shape":[38],"dtype":"object","order":"little"}],["assets",{"type":"ndarray","array":{"type":"bytes","data":"CutnFoQQbkIn2/YTB08zQmsOf4v/12BCfauIB/JGVUICaE2K2zg6Qk6mU7+xazdCQFAJgQd1UELL3wr5NbZSQuSjwho4UzBCbQ/IMFIAREI5PljRFdgYQr7TSpuZbOpBQLCdyW9hUEIrC9WI/fVTQm1dNBnYtFhCHnzs81WwREK1mcrM+/VvQv0QKJNU2QxCXSWGDU5gcEJ2TVJnIE45QiF+yETx/kJCtoo7oTY8AUJRGk1QREH6QY43N1HrfzlClBEs+aI5I0LOPwst3IghQlFkGCc/VBVCBWWY6mqK8UE2nye97J4/Qr7Hx03mYENCXZBtIAehbkJKsbxg2MY7QgCAUcSobVNCzOu5fHyef0J4LdDolo6QQh0CxpuCNHtCAIBRxKhtU0J4oJqdGD2gQg=="},"shape":[38],"dtype":"float64","order":"little"}],["short_category",{"type":"ndarray","array":["Mining and Drilling","Mining and Drilling","Mining and Drilling","Mining and Drilling","Mining and Drilling","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Nonresidential Bldgs","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","                          Residential Bldgs","Mining and Drilling","Nonresidential Bldgs","Other","                          Residential Bldgs","Structures"],"shape":[38],"dtype":"object","order":"little"}],["asset_name",{"type":"ndarray","array":["Petroleum and natural gas","Mining","Communication","Gas","Petroleum pipelines","Religious","Educational and vocational","Hospitals","Special care","Lodging","Air transportation","Other transportation","Warehouses","Other commercial","Multimerchandise shopping","Food and beverage establishments","Manufacturing","Public safety","Office","Medical buildings","Amusement and recreation","Local transit structures","Other land transportation","Farm","Water supply","Sewage and waste disposal","Highway and conservation and development","Mobile structures","Other railroad","Track replacement","Electric","Wind and solar","Residential","Mining and Drilling Structures","Nonresidential Buildings","Other Structures","Residential Buildings","Structures"],"shape":[38],"dtype":"object","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1468","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1469"}}},"glyph":{"type":"object","name":"Scatter","id":"p1464","attributes":{"x":{"type":"field","field":"baseline"},"y":{"type":"field","field":"short_category"},"size":{"type":"field","field":"size"},"line_color":{"type":"value","value":"#333333"},"line_alpha":{"type":"value","value":0.4},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.4},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.4}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1465","attributes":{"x":{"type":"field","field":"baseline"},"y":{"type":"field","field":"short_category"},"size":{"type":"field","field":"size"},"line_color":{"type":"value","value":"#333333"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1466","attributes":{"x":{"type":"field","field":"baseline"},"y":{"type":"field","field":"short_category"},"size":{"type":"field","field":"size"},"line_color":{"type":"value","value":"#333333"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#e84d60"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#e84d60"},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1440","attributes":{"tools":[{"type":"object","name":"HoverTool","id":"p1455","attributes":{"renderers":"auto","tooltips":[["Asset"," @asset_name (@hover)"]]}}]}},"toolbar_location":null,"left":[{"type":"object","name":"CategoricalAxis","id":"p1450","attributes":{"ticker":{"type":"object","name":"CategoricalTicker","id":"p1451"},"formatter":{"type":"object","name":"CategoricalTickFormatter","id":"p1452"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1453"}}}],"above":[{"type":"object","name":"Title","id":"p1456","attributes":{"text":"Marginal Effective Tax Rates on Corporate Investments in Structures","text_color":"#6B6B73","text_font":"Helvetica","text_font_size":"9pt","align":"center"}}],"below":[{"type":"object","name":"LinearAxis","id":"p1445","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1446","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"NumeralTickFormatter","id":"p1457","attributes":{"format":"0.1%"}},"axis_label":"Marginal Effective Tax Rate","major_label_policy":{"type":"object","name":"AllLabels","id":"p1448"},"major_tick_line_color":"firebrick","major_tick_line_width":3,"minor_tick_line_color":"orange"}}],"center":[{"type":"object","name":"Grid","id":"p1449","attributes":{"axis":{"id":"p1445"}}},{"type":"object","name":"Grid","id":"p1454","attributes":{"dimension":1,"axis":{"id":"p1450"}}}],"background_fill_alpha":0,"border_fill_alpha":0,"min_border_top":5,"min_border_bottom":0,"min_border_left":0,"min_border_right":5}},{"type":"object","name":"Figure","id":"p1470","attributes":{"width":380,"height":150,"x_range":{"type":"object","name":"Range1d","id":"p1480","attributes":{"start":-0.075,"end":0.75}},"y_range":{"type":"object","name":"DataRange1d","id":"p1472"},"x_scale":{"type":"object","name":"LinearScale","id":"p1481"},"y_scale":{"type":"object","name":"LinearScale","id":"p1482"},"title":{"type":"object","name":"Title","id":"p1473","attributes":{"text":"Asset Amount"}},"toolbar":{"type":"object","name":"Toolbar","id":"p1479","attributes":{"active_drag":null}},"left":[{"type":"object","name":"LinearAxis","id":"p1488","attributes":{"visible":false,"ticker":{"type":"object","name":"BasicTicker","id":"p1489","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1490"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1491"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1483","attributes":{"visible":false,"ticker":{"type":"object","name":"BasicTicker","id":"p1484","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1485"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1486"}}}],"center":[{"type":"object","name":"Grid","id":"p1487","attributes":{"axis":{"id":"p1483"},"grid_line_color":null}},{"type":"object","name":"Grid","id":"p1492","attributes":{"dimension":1,"axis":{"id":"p1488"},"grid_line_color":null}}]}}]}}}}]}}]}};
  const render_items = [{"docid":"3e2b8172-458c-48d7-9ffb-03aec44bef68","roots":{"p1497":"e498ff8e-3c3d-4929-8c23-5305635e74a7"},"root_ids":["p1497"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h2>
<p>This notebook provides a brief example of how one would work with CCC.  Please explore the source code to see additional flexiblity in the functions.  And please leave any questions or suggestions in the CCC repo at <a class="github reference external" href="https://github.com/PSLmodels/Cost-of-Capital-Calculator/issues">PSLmodels/Cost-of-Capital-Calculator#issues</a>.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content/examples"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Cost-of-Capital-Calculator</p>
      </div>
    </a>
    <a class="right-next"
       href="../webapp.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Web Application</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#first-things-first-import-necessary-packages">First things first, import necessary packages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-an-instance-of-the-assets-class">Create an instance of the Assets class</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-instances-of-the-two-parameters-classes">Create instances of the two parameters classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-an-instance-of-the-calculator-class">Create an instance of the Calculator class</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#specifying-a-reform-policy">Specifying a reform policy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tabular-output">Tabular output</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizations">Visualizations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jason DeBacker
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2020.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>